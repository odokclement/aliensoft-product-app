import{u as g,r as o,o as b,a as w,b as h,c as r,d as e,w as k,e as M,f as c,v as _,g as P,h as L,t as j,i as l}from"./index-DTV4gXJZ.js";const A={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},B={class:"max-w-md w-full space-y-8"},C={class:"space-y-4"},S={class:"mt-1 relative"},V=["type"],T={key:0,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},U={key:1,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},R={class:"flex items-center justify-between"},D={class:"flex items-center"},E=["disabled"],q={key:0},z={key:1},N={key:0,class:"text-red-600 text-sm text-center"},W={__name:"Login",setup(F){const y=w(),p=g(),a=o({username:"",password:""}),f=o(!1),m=o(!1),n=o(""),s=o(!1),i=o(null);b(()=>{p.isAuthenticated&&y.push("/products")});const v=()=>{s.value=!s.value,i.value&&clearTimeout(i.value),s.value&&(i.value=setTimeout(()=>{s.value=!1},3e4))},x=async()=>{m.value=!0,n.value="";try{const u=await p.login(a.value);u.success?window.location.href="/products":n.value=u.error||"Login failed. Please try again."}catch(u){n.value="An unexpected error occurred. Please try again.",console.error("Login error:",u)}finally{m.value=!1}};return h(()=>{i.value&&clearTimeout(i.value)}),(u,t)=>(l(),r("div",A,[e("div",B,[t[10]||(t[10]=e("div",null,[e("h1",{class:"text-center text-3xl font-bold primary-color"}," Platform Logo "),e("h2",{class:"mt-6 text-center text-2xl font-bold text-gray-900"}," Welcome Back "),e("p",{class:"mt-2 text-center text-sm text-gray-600"}," Sign in to manage your products. ")],-1)),e("form",{class:"mt-8 space-y-6",onSubmit:k(x,["prevent"])},[e("div",C,[e("div",null,[t[3]||(t[3]=e("label",{for:"username",class:"block text-sm font-medium text-gray-700"}," Email or Username ",-1)),c(e("input",{id:"username","onUpdate:modelValue":t[0]||(t[0]=d=>a.value.username=d),type:"text",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary",placeholder:"you@example.com"},null,512),[[_,a.value.username]])]),e("div",null,[t[6]||(t[6]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Password ",-1)),e("div",S,[c(e("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=d=>a.value.password=d),type:s.value?"text":"password",required:"",class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary pr-10",placeholder:"Enter your password"},null,8,V),[[P,a.value.password]]),e("button",{type:"button",class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600",onClick:v},[s.value?(l(),r("svg",T,[...t[4]||(t[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])])):(l(),r("svg",U,[...t[5]||(t[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])]))])])])]),e("div",R,[e("div",D,[c(e("input",{id:"remember-me","onUpdate:modelValue":t[2]||(t[2]=d=>f.value=d),type:"checkbox",class:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"},null,512),[[L,f.value]]),t[7]||(t[7]=e("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900"}," Remember me ",-1))]),t[8]||(t[8]=e("div",{class:"text-sm"},[e("a",{href:"#",class:"font-medium text-primary hover:text-blue-900"}," Forgot Password? ")],-1))]),e("div",null,[e("button",{type:"submit",disabled:m.value,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white primary-bg hover:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50"},[m.value?(l(),r("span",q,"Signing in...")):(l(),r("span",z,"Login"))],8,E)]),n.value?(l(),r("div",N,j(n.value),1)):M("",!0),t[9]||(t[9]=e("div",{class:"text-center text-sm text-gray-500"}," Â© 2024 Platform Inc. All Rights Reserved. ",-1))],32)])]))}};export{W as default};
